# راهنمای جامع عملیات مقایسه‌ای در Bash

عملیات‌های مقایسه‌ای در Bash یکی از مهم‌ترین ابزارها برای کار با داده‌ها، متغیرها و آرایه‌ها هستند. این عملیات به شما امکان می‌دهد که مقادیر مختلف را با هم مقایسه کنید و نتایج منطقی (True یا False) دریافت کنید. در این مستند، تمام روش‌های مقایسه‌ای موجود در Bash را به‌صورت کامل و جامع بررسی می‌کنیم.

در اینجا تاکید داریم که از عبارات کنترلی مثل `if` یا `case` استفاده نکنیم و تنها از `[]` یا `[[]]` برای مقایسه استفاده شود.

## مقایسه‌های عددی

در Bash، مقایسه اعداد با استفاده از عملگرهای خاصی انجام می‌شود. برای مقایسه اعداد، باید از `[]` یا `[[]]` استفاده کنید که هرکدام ویژگی‌های خاص خود را دارند.

### عملگرهای مقایسه عددی در Bash

| عملگر | توضیحات                                 | مثال          |
| ----- | --------------------------------------- | ------------- |
| `-eq` | برابر بودن (Equal)                      | `[ 5 -eq 5 ]` |
| `-ne` | نابرابر بودن (Not Equal)                | `[ 5 -ne 3 ]` |
| `-lt` | کوچکتر بودن (Less Than)                 | `[ 3 -lt 5 ]` |
| `-le` | کوچکتر یا برابر بودن (Less or Equal)    | `[ 5 -le 5 ]` |
| `-gt` | بزرگتر بودن (Greater Than)              | `[ 7 -gt 3 ]` |
| `-ge` | بزرگتر یا برابر بودن (Greater or Equal) | `[ 7 -ge 7 ]` |

### مثال‌های کاربردی:

#### مقایسه دو عدد:

```bash
[ 10 -gt 5 ]  # صحیح: 10 بزرگتر از 5 است
[ 3 -lt 2 ]   # نادرست: 3 کوچکتر از 2 نیست
```

# راهنمای جامع عملیات مقایسه‌ای در Bash

عملیات‌های مقایسه‌ای در Bash یکی از مهم‌ترین ابزارها برای کار با داده‌ها، متغیرها و آرایه‌ها هستند. این عملیات به شما امکان می‌دهد که مقادیر مختلف را با هم مقایسه کنید و نتایج منطقی (True یا False) دریافت کنید. در این مستند، تمام روش‌های مقایسه‌ای موجود در Bash را به‌صورت کامل و جامع بررسی می‌کنیم.

در اینجا تاکید داریم که از عبارات کنترلی مثل `if` یا `case` استفاده نکنیم و تنها از `[]` یا `[[]]` برای مقایسه استفاده شود.

## مقایسه‌های عددی

در Bash، مقایسه اعداد با استفاده از عملگرهای خاصی انجام می‌شود. برای مقایسه اعداد، باید از `[]` یا `[[]]` استفاده کنید که هرکدام ویژگی‌های خاص خود را دارند.

### عملگرهای مقایسه عددی در Bash

| عملگر | توضیحات                                 | مثال          |
| ----- | --------------------------------------- | ------------- |
| `-eq` | برابر بودن (Equal)                      | `[ 5 -eq 5 ]` |
| `-ne` | نابرابر بودن (Not Equal)                | `[ 5 -ne 3 ]` |
| `-lt` | کوچکتر بودن (Less Than)                 | `[ 3 -lt 5 ]` |
| `-le` | کوچکتر یا برابر بودن (Less or Equal)    | `[ 5 -le 5 ]` |
| `-gt` | بزرگتر بودن (Greater Than)              | `[ 7 -gt 3 ]` |
| `-ge` | بزرگتر یا برابر بودن (Greater or Equal) | `[ 7 -ge 7 ]` |

### مثال‌های کاربردی:

#### مقایسه دو عدد:

```bash
[ 10 -gt 5 ]  # صحیح: 10 بزرگتر از 5 است
[ 3 -lt 2 ]   # نادرست: 3 کوچکتر از 2 نیست
```

#### مقایسه برابر بودن:

```bash
[ 5 -eq 5 ]   # صحیح: هر دو عدد برابرند
[ 4 -ne 5 ]   # صحیح: 4 با 5 نابرابر است
```

## مقایسه رشته‌ها

در Bash، برای مقایسه رشته‌ها از عملگرهای متفاوتی نسبت به مقایسه‌های عددی استفاده می‌شود.

### عملگرهای مقایسه رشته‌ای در Bash

| عملگر | توضیحات                         | مثال                      |
| ----- | ------------------------------- | ------------------------- |
| `=`   | برابر بودن دو رشته              | `[ "apple" = "apple" ]`   |
| `!=`  | نابرابر بودن دو رشته            | `[ "apple" != "banana" ]` |
| `<`   | کوچکتر بودن رشته (از لحاظ لغوی) | `[ "apple" < "banana" ]`  |
| `>`   | بزرگتر بودن رشته (از لحاظ لغوی) | `[ "banana" > "apple" ]`  |
| `-z`  | رشته خالی است                   | `[ -z "$var" ]`           |
| `-n`  | رشته غیرخالی است                | `[ -n "$var" ]`           |

### مثال‌های کاربردی:

#### مقایسه برابر بودن رشته‌ها:

```bash
[ "foo" = "foo" ]   # صحیح: دو رشته برابرند
[ "foo" != "bar" ]  # صحیح: رشته‌ها نابرابرند
```

#### مقایسه خالی یا غیرخالی بودن رشته:

```bash
[ -z "" ]     # صحیح: رشته خالی است
[ -n "hello" ]  # صحیح: رشته غیرخالی است
```

### نکته:

- برای جلوگیری از مشکلات احتمالی در مقایسه رشته‌ها، همیشه متغیرها یا مقادیر رشته‌ای را در دابل کوتیشن قرار دهید.

## مقایسه فایل‌ها

Bash همچنین ابزارهای قدرتمندی برای مقایسه ویژگی‌های فایل‌ها در اختیار دارد. با استفاده از این ابزارها می‌توانید بررسی کنید که آیا فایل یا دایرکتوری وجود دارد، آیا خواندنی یا نوشتنی است و غیره.

### عملگرهای مقایسه فایل‌ها در Bash

| عملگر | توضیحات                                       | مثال                    |
| ----- | --------------------------------------------- | ----------------------- |
| `-e`  | بررسی وجود فایل یا دایرکتوری                  | `[ -e /path/to/file ]`  |
| `-f`  | بررسی وجود فایل معمولی (نه دایرکتوری)         | `[ -f /path/to/file ]`  |
| `-d`  | بررسی وجود دایرکتوری                          | `[ -d /path/to/dir ]`   |
| `-r`  | بررسی خواندنی بودن فایل                       | `[ -r /path/to/file ]`  |
| `-w`  | بررسی نوشتنی بودن فایل                        | `[ -w /path/to/file ]`  |
| `-x`  | بررسی اجرایی بودن فایل                        | `[ -x /path/to/file ]`  |
| `-s`  | بررسی اینکه فایل خالی نیست                    | `[ -s /path/to/file ]`  |
| `-nt` | بررسی اینکه فایل اول از فایل دوم جدیدتر است   | `[ /file1 -nt /file2 ]` |
| `-ot` | بررسی اینکه فایل اول از فایل دوم قدیمی‌تر است | `[ /file1 -ot /file2 ]` |

### مثال‌های کاربردی:

#### بررسی وجود فایل:

```bash
[ -e "/home/user/file.txt" ]   # صحیح: فایل وجود دارد
```

#### بررسی خواندنی و نوشتنی بودن فایل:

```bash
[ -r "/home/user/file.txt" ]   # صحیح: فایل خواندنی است
[ -w "/home/user/file.txt" ]   # صحیح: فایل نوشتنی است
```

#### بررسی جدیدتر یا قدیمی‌تر بودن دو فایل:

```bash
[ /file1 -nt /file2 ]   # فایل اول جدیدتر از فایل دوم است
[ /file1 -ot /file2 ]   # فایل اول قدیمی‌تر از فایل دوم است
```

## مقایسه‌های ترکیبی (Logical Operators)

با استفاده از عملگرهای منطقی، می‌توانید چندین شرط مقایسه‌ای را به هم ترکیب کنید و شرایط پیچیده‌تری ایجاد کنید.

### عملگرهای منطقی:

| عملگر  | توضیحات    | مثال                                        |
| ------ | ---------- | ------------------------------------------- |
| `&&`   | AND (و)    | `[ "$var1" -gt 5 ] && [ "$var2" -lt 10 ]`   |
| `\|\|` | OR (یا)    | `[ "$var1" -gt 5 ] \|\| [ "$var2" -lt 10 ]` |
| `!`    | NOT (نقیض) | `[ ! "$var1" -eq 5 ]`                       |

### مثال‌های کاربردی:

#### ترکیب دو شرط با AND:

```bash
[ "$age" -gt 18 ] && [ "$age" -lt 60 ]
```

#### ترکیب دو شرط با OR:

```bash
[ "$age" -lt 18 ] || [ "$age" -gt 60 ]
```

#### استفاده از NOT:

```bash
[ ! "$var" -eq 0 ]
```

## استفاده از `[[ ]]` در Bash

در Bash، `[[ ]]` یک نسخه پیشرفته‌تر از `[]` است که امکانات بیشتری برای مقایسه‌های پیچیده فراهم می‌کند.

### ویژگی‌های `[[ ]]`:

1. از عملگرهای `<` و `>` برای مقایسه‌های لغوی رشته‌ها پشتیبانی می‌کند بدون نیاز به escape کردن.
2. از عملگرهای منطقی داخلی مانند `&&` و `||` پشتیبانی بهتری دارد.
3. از regex پشتیبانی می‌کند.

### مثال‌های کاربردی:

#### مقایسه رشته‌ای با `[[ ]]`:

```bash
[[ "apple" < "banana" ]]   # صحیح: "apple" از نظر لغوی کوچکتر است
```

#### استفاده از regex با `[[ ]]`:

```bash
[[ "hello123" =~ ^hello[0-9]+$ ]]   # بررسی مطابقت با یک الگوی regex
```

### جدول مقایسه‌ای `[]` و `[[ ]]`:

| ویژگی             | `[]`                          | `[[ ]]`             |
| ----------------- | ----------------------------- | ------------------- | ------------------ | ------------------------- | --- | --- |
| پشتیبانی از regex | خیر                           | بله                 |
| مقایسه لغوی       | نیاز به escape برای `<` و `>` | بدون نیاز به escape |
| عملگرهای منطقی    | پشتیبانی از `&&` و `          |                     | ` با ترکیب چند شرط | پشتیبانی بهتر از `&&` و ` |     | `   |

## جمع‌بندی

در این مستند، به‌صورت جامع به بررسی عملیات‌های مقایسه‌ای در Bash پرداختیم. این مقایسه‌ها شامل مقایسه‌های عددی، رشته‌ای، فایل‌ها و ترکیب منطقی شرایط بودند. همچنین، تفاوت‌ها و مزایای استفاده از `[]` و `[[ ]]` را مشاهده کردیم

#### مقایسه برابر بودن:

```bash
[ 5 -eq 5 ]   # صحیح: هر دو عدد برابرند
[ 4 -ne 5 ]   # صحیح: 4 با 5 نابرابر است
```

## مقایسه رشته‌ها

در Bash، برای مقایسه رشته‌ها از عملگرهای متفاوتی نسبت به مقایسه‌های عددی استفاده می‌شود.

### عملگرهای مقایسه رشته‌ای در Bash

| عملگر | توضیحات                         | مثال                      |
| ----- | ------------------------------- | ------------------------- |
| `=`   | برابر بودن دو رشته              | `[ "apple" = "apple" ]`   |
| `!=`  | نابرابر بودن دو رشته            | `[ "apple" != "banana" ]` |
| `<`   | کوچکتر بودن رشته (از لحاظ لغوی) | `[ "apple" < "banana" ]`  |
| `>`   | بزرگتر بودن رشته (از لحاظ لغوی) | `[ "banana" > "apple" ]`  |
| `-z`  | رشته خالی است                   | `[ -z "$var" ]`           |
| `-n`  | رشته غیرخالی است                | `[ -n "$var" ]`           |

### مثال‌های کاربردی:

#### مقایسه برابر بودن رشته‌ها:

```bash
[ "foo" = "foo" ]   # صحیح: دو رشته برابرند
[ "foo" != "bar" ]  # صحیح: رشته‌ها نابرابرند
```

#### مقایسه خالی یا غیرخالی بودن رشته:

```bash
[ -z "" ]     # صحیح: رشته خالی است
[ -n "hello" ]  # صحیح: رشته غیرخالی است
```

### نکته:

- برای جلوگیری از مشکلات احتمالی در مقایسه رشته‌ها، همیشه متغیرها یا مقادیر رشته‌ای را در دابل کوتیشن قرار دهید.

## مقایسه فایل‌ها

Bash همچنین ابزارهای قدرتمندی برای مقایسه ویژگی‌های فایل‌ها در اختیار دارد. با استفاده از این ابزارها می‌توانید بررسی کنید که آیا فایل یا دایرکتوری وجود دارد، آیا خواندنی یا نوشتنی است و غیره.

### عملگرهای مقایسه فایل‌ها در Bash

| عملگر | توضیحات                                       | مثال                    |
| ----- | --------------------------------------------- | ----------------------- |
| `-e`  | بررسی وجود فایل یا دایرکتوری                  | `[ -e /path/to/file ]`  |
| `-f`  | بررسی وجود فایل معمولی (نه دایرکتوری)         | `[ -f /path/to/file ]`  |
| `-d`  | بررسی وجود دایرکتوری                          | `[ -d /path/to/dir ]`   |
| `-r`  | بررسی خواندنی بودن فایل                       | `[ -r /path/to/file ]`  |
| `-w`  | بررسی نوشتنی بودن فایل                        | `[ -w /path/to/file ]`  |
| `-x`  | بررسی اجرایی بودن فایل                        | `[ -x /path/to/file ]`  |
| `-s`  | بررسی اینکه فایل خالی نیست                    | `[ -s /path/to/file ]`  |
| `-nt` | بررسی اینکه فایل اول از فایل دوم جدیدتر است   | `[ /file1 -nt /file2 ]` |
| `-ot` | بررسی اینکه فایل اول از فایل دوم قدیمی‌تر است | `[ /file1 -ot /file2 ]` |

### مثال‌های کاربردی:

#### بررسی وجود فایل:

```bash
[ -e "/home/user/file.txt" ]   # صحیح: فایل وجود دارد
```

#### بررسی خواندنی و نوشتنی بودن فایل:

```bash
[ -r "/home/user/file.txt" ]   # صحیح: فایل خواندنی است
[ -w "/home/user/file.txt" ]   # صحیح: فایل نوشتنی است
```

#### بررسی جدیدتر یا قدیمی‌تر بودن دو فایل:

```bash
[ /file1 -nt /file2 ]   # فایل اول جدیدتر از فایل دوم است
[ /file1 -ot /file2 ]   # فایل اول قدیمی‌تر از فایل دوم است
```

## مقایسه‌های ترکیبی (Logical Operators)

با استفاده از عملگرهای منطقی، می‌توانید چندین شرط مقایسه‌ای را به هم ترکیب کنید و شرایط پیچیده‌تری ایجاد کنید.

### عملگرهای منطقی:

| عملگر  | توضیحات    | مثال                                        |
| ------ | ---------- | ------------------------------------------- |
| `&&`   | AND (و)    | `[ "$var1" -gt 5 ] && [ "$var2" -lt 10 ]`   |
| `\|\|` | OR (یا)    | `[ "$var1" -gt 5 ] \|\| [ "$var2" -lt 10 ]` |
| `!`    | NOT (نقیض) | `[ ! "$var1" -eq 5 ]`                       |

### مثال‌های کاربردی:

#### ترکیب دو شرط با AND:

```bash
[ "$age" -gt 18 ] && [ "$age" -lt 60 ]
```

#### ترکیب دو شرط با OR:

```bash
[ "$age" -lt 18 ] || [ "$age" -gt 60 ]
```

#### استفاده از NOT:

```bash
[ ! "$var" -eq 0 ]
```

## استفاده از `[[ ]]` در Bash

در Bash، `[[ ]]` یک نسخه پیشرفته‌تر از `[]` است که امکانات بیشتری برای مقایسه‌های پیچیده فراهم می‌کند.

### ویژگی‌های `[[ ]]`:

1. از عملگرهای `<` و `>` برای مقایسه‌های لغوی رشته‌ها پشتیبانی می‌کند بدون نیاز به escape کردن.
2. از عملگرهای منطقی داخلی مانند `&&` و `||` پشتیبانی بهتری دارد.
3. از regex پشتیبانی می‌کند.

### مثال‌های کاربردی:

#### مقایسه رشته‌ای با `[[ ]]`:

```bash
[[ "apple" < "banana" ]]   # صحیح: "apple" از نظر لغوی کوچکتر است
```

#### استفاده از regex با `[[ ]]`:

```bash
[[ "hello123" =~ ^hello[0-9]+$ ]]   # بررسی مطابقت با یک الگوی regex
```

### جدول مقایسه‌ای `[]` و `[[ ]]`:

| ویژگی             | `[]`                                       | `[[ ]]`                        |
| ----------------- | ------------------------------------------ | ------------------------------ |
| پشتیبانی از regex | خیر                                        | بله                            |
| مقایسه لغوی       | نیاز به escape برای `<` و `>`              | بدون نیاز به escape            |
| عملگرهای منطقی    | پشتیبانی از `&&` و `\|\|` با ترکیب چند شرط | پشتیبانی بهتر از `&&` و `\|\|` |

## جمع‌بندی

در این مستند، به‌صورت جامع به بررسی عملیات‌های مقایسه‌ای در Bash پرداختیم. این مقایسه‌ها شامل مقایسه‌های عددی، رشته‌ای، فایل‌ها و ترکیب منطقی شرایط بودند. همچنین، تفاوت‌ها و مزایای استفاده از `[]` و `[[ ]]` را مشاهده کردیم

# نحوه استفاده از متغیرها در رشته‌ها (Strings) در Bash

در Bash، متغیرها به راحتی می‌توانند در رشته‌ها (Strings) استفاده شوند. این قابلیت به شما این امکان را می‌دهد که متن‌های پویا و قابل تنظیم ایجاد کنید. در این مقاله، نحوه استفاده از متغیرها در رشته‌ها را به صورت حرفه‌ای و با ذکر مثال‌های کاربردی بررسی خواهیم کرد.

## استفاده از متغیر در رشته‌ها

برای استفاده از متغیرها در یک رشته، کافی است نام متغیر را با علامت `$` فراخوانی کنید. این کار باعث می‌شود که مقدار متغیر به جای نام آن در خروجی قرار گیرد.

### مثال ساده:

```bash
NAME="Ali"
echo "Hello, $NAME!"
```

خروجی:

```
Hello, Ali!
```

در اینجا، مقدار متغیر `NAME` که برابر با `Ali` است، در رشته جایگزین شده است.

## استفاده از متغیرها در داخل رشته‌های دابل کوتیشن (Double Quotes)

زمانی که از متغیرها در داخل دابل کوتیشن (`" "`) استفاده می‌کنید، Bash مقدار متغیر را به درستی درون رشته جایگزین می‌کند.

### مثال:

```bash
GREETING="Hello"
NAME="Sara"
echo "$GREETING, $NAME!"
```

خروجی:

```
Hello, Sara!
```

### نکته: استفاده از رشته‌های دابل کوتیشن

- استفاده از `" "` باعث می‌شود که Bash متغیرها را پردازش کرده و مقدار آنها را جایگزین کند.
- اگر متغیرها یا رشته‌ها دارای فاصله یا کاراکترهای خاص باشند، استفاده از دابل کوتیشن الزامی است.

## استفاده از متغیرها در رشته‌های سینگل کوتیشن (Single Quotes)

در مقابل، وقتی که از سینگل کوتیشن (`' '`) استفاده می‌کنید، متغیرها پردازش نمی‌شوند و به عنوان رشته خام چاپ می‌شوند.

### مثال:

```bash
NAME="Sara"
echo 'Hello, $NAME!'
```

خروجی:

```
Hello, $NAME!
```

در این حالت، متغیر `$NAME` به عنوان یک رشته ساده بدون جایگزینی چاپ می‌شود.

### نکته: استفاده از رشته‌های سینگل کوتیشن

- از `' '` برای جلوگیری از پردازش متغیرها و کاراکترهای خاص در Bash استفاده کنید.

## استفاده از کروشه‌ها برای جدا کردن متغیرها

گاهی اوقات نیاز است که متغیر را درون رشته با کاراکترهای دیگر ترکیب کنیم. در این موارد، از کروشه‌ها (`{}`) برای مشخص کردن مرزهای متغیر استفاده می‌شود.

### مثال:

```bash
NAME="World"
echo "Hello, ${NAME}!"
```

خروجی:

```
Hello, World!
```

### مثال با کاراکترهای اضافی:

```bash
NAME="Ali"
echo "Hello, ${NAME}123!"
```

خروجی:

```
Hello, Ali123!
```

در اینجا، استفاده از کروشه‌ها تضمین می‌کند که Bash متغیر `NAME` را به درستی تشخیص دهد و رشته‌ای مانند `NAME123` به اشتباه پردازش نشود.

## ترکیب رشته‌ها و متغیرها

می‌توانید به راحتی رشته‌ها و متغیرها را با هم ترکیب کنید. ترکیب رشته‌ها در Bash بسیار ساده است و کافی است که متغیرها و رشته‌ها را به هم بچسبانید.

### مثال:

```bash
FIRST_NAME="Ali"
LAST_NAME="Rezaei"
FULL_NAME="$FIRST_NAME $LAST_NAME"
echo "Full name: $FULL_NAME"
```

خروجی:

```
Full name: Ali Rezaei
```

### ترکیب با متن ثابت:

```bash
NUMBER=5
echo "You have $NUMBER new messages."
```

خروجی:

```
You have 5 new messages.
```

## استفاده از متغیرها در دستورات پیچیده

در Bash، می‌توانید از متغیرها درون دستورات پیچیده نیز استفاده کنید. به عنوان مثال، می‌توانید از آنها درون حلقه‌ها و دستورات شرطی بهره ببرید.

### مثال با حلقه:

```bash
for i in 1 2 3; do
  echo "Loop iteration: $i"
done
```

خروجی:

```
Loop iteration: 1
Loop iteration: 2
Loop iteration: 3
```

## ترفندهای پیشرفته برای استفاده از متغیرها

### 1. پیش‌فرض قرار دادن مقدار متغیر (Default Value)

می‌توانید برای متغیرهایی که ممکن است مقداردهی نشده باشند، یک مقدار پیش‌فرض تعیین کنید. از `${VARIABLE:-default_value}` برای این کار استفاده می‌شود.

### مثال:

```bash
NAME=${NAME:-"Guest"}
echo "Hello, $NAME!"
```

خروجی اگر متغیر `NAME` تعریف نشده باشد:

```
Hello, Guest!
```

خروجی اگر متغیر `NAME` مقدار داشته باشد:

```
Hello, Ali!
```

### 2. جایگزینی مقادیر متغیرها

می‌توانید از `${VARIABLE:=default_value}` برای جایگزینی مقدار متغیر استفاده کنید، در صورتی که متغیر هنوز مقداردهی نشده باشد.

### مثال:

```bash
: ${NAME:="Ali"}
echo "Hello, $NAME!"
```

در این مثال، اگر `NAME` مقدار نداشته باشد، مقدار `Ali` به آن اختصاص داده می‌شود.

### 3. استفاده از طول متغیر

برای به دست آوردن طول یک متغیر، می‌توانید از `${#VARIABLE}` استفاده کنید.

### مثال:

```bash
STRING="Hello"
echo "Length of STRING is: ${#STRING}"
```

خروجی:

```
Length of STRING is: 5
```

### 4. استخراج زیررشته (Substring)

برای استخراج بخشی از یک رشته، می‌توانید از `${VARIABLE:position:length}` استفاده کنید.

### مثال:

```bash
STRING="Hello, World"
SUBSTRING=${STRING:0:5}
echo "Substring is: $SUBSTRING"
```

خروجی:

```
Substring is: Hello
```

## جمع‌بندی

در این آموزش، نحوه استفاده از متغیرها در رشته‌ها در Bash را بررسی کردیم. شما می‌توانید متغیرها را به راحتی در داخل رشته‌ها جایگذاری کنید، متغیرها را با هم ترکیب کنید، یا از ترفندهای پیشرفته برای مدیریت بهتر متغیرها استفاده کنید. همچنین یاد گرفتید که چگونه با استفاده از escape sequences و کروشه‌ها متغیرها را به طور صحیح و در محیط‌های پیچیده‌تر به کار ببرید.

### نکات کلیدی:

- استفاده از `$VARIABLE` برای دسترسی به مقدار متغیرها.
- استفاده از دابل کوتیشن برای جایگذاری متغیرها درون رشته‌ها.
- استفاده از سینگل کوتیشن برای نمایش متغیرها به عنوان متن خام.
- استفاده از ترفندهایی مانند مقدار پیش‌فرض و استخراج زیررشته‌ها برای مدیریت بهتر متغیرها.

با این دانش، شما قادر خواهید بود که از متغیرها به شکل مؤثری در اسکریپت‌های Bash خود استفاده کنید.

# راهنمای جامع و مقدماتی Regular Expression

**Regular Expression** یا به اختصار **Regex**، یک روش برای تطبیق الگوها در متن‌ها است. این الگوها به شما امکان می‌دهند تا رشته‌های خاصی را در میان داده‌ها جستجو، بررسی، و یا جایگزین کنید. در این راهنمای مقدماتی، با اصول پایه‌ای Regex آشنا می‌شویم و روش‌های رایج استفاده از آن را بررسی می‌کنیم.

## 1. مقدمات و ساختار Regex

یک Regular Expression از مجموعه‌ای از کاراکترها و نشانه‌ها تشکیل شده است که یک الگوی خاص را تعریف می‌کند. این الگوها در بسیاری از زبان‌های برنامه‌نویسی و ابزارهای خط فرمان (مثل `grep` و `sed`) استفاده می‌شوند.

### 1.1. متغیرهای معمول

| کاراکتر | توضیحات                           | مثال                                 |
| ------- | --------------------------------- | ------------------------------------ |
| `.`     | هر کاراکتر (به جز خط جدید)        | `a.b` تطبیق با `aab`، `acb`، `a$b`   |
| `^`     | شروع رشته                         | `^Hello`                             |
| `$`     | پایان رشته                        | `world$`                             |
| `*`     | صفر یا بیشتر از تکرار کاراکتر قبل | `a*`                                 |
| `+`     | یک یا بیشتر از تکرار کاراکتر قبل  | `a+`                                 |
| `?`     | صفر یا یک تکرار از کاراکتر قبل    | `a?`                                 |
| `{n}`   | دقیقاً `n` تکرار                  | `a{3}` معادل `aaa`                   |
| `{n,m}` | بین `n` تا `m` تکرار              | `a{2,4}` معادل `aa`، `aaa` یا `aaaa` |

## 2. گروه‌بندی و استفاده از کاراکترهای ویژه

### 2.1. کاراکترهای گروه‌بندی `[]`

براکت‌ها برای تعریف گروهی از کاراکترها به کار می‌روند که هر کدام از کاراکترها می‌توانند با الگو تطبیق پیدا کنند.

| الگو     | توضیحات                            | مثال                          |
| -------- | ---------------------------------- | ----------------------------- |
| `[abc]`  | یکی از کاراکترهای `a`، `b`، یا `c` | `b[aeiou]g`                   |
| `[0-9]`  | یکی از اعداد 0 تا 9                | `[0-9]{3}` برای اعداد سه‌رقمی |
| `[a-z]`  | یکی از حروف کوچک `a` تا `z`        | `[a-z]+` برای رشته‌های کوچک   |
| `[^abc]` | هر کاراکتر به جز `a`، `b`، یا `c`  | `[^0-9]` برای غیراعداد        |

### 2.2. کاراکترهای خاص برای تطبیق فاصله‌ها و تعداد

| کاراکتر | توضیحات                                          | مثال                       |
| ------- | ------------------------------------------------ | -------------------------- |
| `\d`    | هر رقم (معادل `[0-9]`)                           | `\d{2}` برای اعداد دو رقمی |
| `\D`    | هر کاراکتر غیردقم                                | `\D+`                      |
| `\w`    | هر کاراکتر از حروف یا رقم (معادل `[a-zA-Z0-9_]`) | `\w+`                      |
| `\W`    | هر کاراکتر غیر از حروف و رقم                     | `\W`                       |
| `\s`    | فاصله سفید (space, tab, newline)                 | `\s+` برای فضاهای متوالی   |
| `\S`    | هر کاراکتر غیر از فاصله                          | `\S+`                      |

### 2.3. پرانتزها برای گروه‌بندی `()`

پرانتزها به شما این امکان را می‌دهند که بخش‌های مختلف Regex را گروه‌بندی کرده و آن‌ها را به‌طور متمرکز بررسی یا تکرار کنید.

#### مثال:

```regex
(a|b|c)d
```

این الگو با `ad`، `bd`، و `cd` مطابقت دارد.

## 3. شروع و پایان با الگوها

### 3.1. استفاده از `^` برای شروع

وقتی `^` در ابتدای یک الگو قرار می‌گیرد، به معنی شروع رشته است.

#### مثال:

```regex
^hello
```

این الگو فقط با رشته‌هایی که با `hello` شروع می‌شوند مطابقت دارد.

### 3.2. استفاده از `$` برای پایان

وقتی `$` در انتهای یک الگو قرار می‌گیرد، به معنی پایان رشته است.

#### مثال:

```regex
world$
```

این الگو فقط با رشته‌هایی که با `world` پایان می‌یابند مطابقت دارد.

## 4. تکرار و تعداد

### 4.1. استفاده از `*`, `+`, و `?`

- `*`: صفر یا بیشتر از کاراکتر قبل (مثل `a*` برای هر تعداد `a`، حتی صفر).
- `+`: یک یا بیشتر از کاراکتر قبل (مثل `a+` برای حداقل یک `a`).
- `?`: صفر یا یک از کاراکتر قبل (مثل `a?` برای حداکثر یک `a`).

### 4.2. تعداد تکرار دقیق `{n}` و بازه `{n,m}`

- `{n}`: دقیقاً `n` بار تکرار کاراکتر یا گروه قبل.
- `{n,m}`: بین `n` تا `m` بار تکرار.

#### مثال:

```regex
a{2,4}
```

این الگو با `aa`، `aaa`، یا `aaaa` مطابقت دارد.

## 5. استفاده از Regex در ابزارهای مختلف

### 5.1. استفاده از Regex در `grep`

```bash
grep 'pattern' filename
```

#### مثال:

جستجوی خطوطی که با `error` شروع می‌شوند:

```bash
grep '^error' logfile.txt
```

### 5.2. استفاده از Regex در `sed`

```bash
sed -n '/pattern/p' filename
```

#### مثال:

جایگزینی کلمه `apple` با `orange` در یک فایل:

```bash
sed 's/apple/orange/g' file.txt
```

## 6. نکات و ترفندهای کاربردی

- **غیرحریصانه بودن**: برای مطابقت‌های غیرحریصانه، از `?` استفاده کنید (مثل `.*?` برای کمترین تعداد از هر کاراکتر).
- **پوشش کامل متن**: استفاده از `^` و `$` برای تطبیق کامل متن کمک می‌کند.
- **بهره‌گیری از گروه‌ها**: گروه‌ها با `()` امکان بازخوانی و تکرار قسمت‌های خاصی از الگو را فراهم می‌کنند.
